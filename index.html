<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ArsMathica </title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: black;
    overflow: hidden;
    font-family: "Inter", sans-serif;
  }

  /* INTRO WRAPPER */
  #intro {
    position: fixed;
    inset: 0;
    background: black;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    z-index: 9999;
    animation: fadeOut 0.9s ease 3.2s forwards;
  }

  /* BULLET LINES */
  .bullet {
    position: absolute;
    left: -40vw;
    width: 220px;
    height: 3px;
    background: linear-gradient(90deg, transparent, #ffdd88);
    filter: blur(0.6px);
    opacity: 0;
  }

  /* bullet animation triggered via JS */
  .shoot {
    animation: bulletMove 700ms cubic-bezier(.18,.9,.2,1) forwards;
  }

  @keyframes bulletMove {
    0%   { opacity:0; transform:translateX(0) translateY(var(--dy)); }
    10%  { opacity:1; }
    100% { opacity:0; transform:translateX(100vw) translateY(calc(var(--dy) + 40px)); }
  }

  /* FLASH */
  #flash {
    position: absolute;
    width: 260px;
    height: 260px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,150,40,0.65), transparent 70%);
    filter: blur(20px);
    opacity: 0;
    transform: scale(0.4);
    transition: opacity 300ms ease, transform 500ms ease;
  }

  #flash.active {
    opacity: 1;
    transform: scale(1);
  }

  /* TITLE */
  #title {
    font-size: 3rem;
    font-weight: 800;
    letter-spacing: 6px;
    color: #ffddb0;
    text-shadow:
      0 0 10px #ffae42,
      0 0 20px #ff7a00,
      0 0 40px #ff3c00;
    opacity: 0;
    transform: scale(0.85);
    transition: opacity 500ms ease 300ms, transform 600ms ease 300ms;
  }

  #title.revealed {
    opacity: 1;
    transform: scale(1);
  }

  @keyframes fadeOut { 100% { opacity: 0; visibility: hidden; } }

  /* APP IFRAME */
  iframe {
    width: 100%;
    height: 100%;
    border: none;
    opacity: 0;
    position: relative;
    z-index: 1 !important; /* LOWER than overlay */
    animation: showApp 1s ease 3.3s forwards;
  }

  @keyframes showApp {
    from { opacity: 0; }
    to   { opacity: 1; }
  }

  /* YOUR BRAND OVERLAY (always visible, hides Base44 badge) */
 #my-brand {
  position: fixed;
  bottom: 10px;
  right: 10px;

  width: 260px;
  height: 70px;

  /* FIRE BACKGROUND GRADIENT */
  background: linear-gradient(135deg, #ff2200, #ff7a00, #ffae00);
  background-size: 200% 200%;
  animation:
    fireBG 3s ease infinite,
    fireWobble 2s infinite ease-in-out alternate;

  /* ANIMATED FIRE BORDER */
  border: 4px solid transparent;
  border-radius: 14px;
  background-clip: padding-box;
  box-shadow: 0 0 25px rgba(255, 80, 0, 0.7);

  z-index: 999999999 !important;

  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;

  pointer-events: auto; /* THIS FIXES THE BASE44 REDIRECT */

  /* FIRE TEXT */
  font-size: 24px;
  font-weight: 900;
  color: #ffddbb;
  text-shadow:
    0 0 10px #ff6600,
    0 0 20px #ff3300,
    0 0 35px #ff0000,
    0 0 50px #ff5500;
}

/* BACKGROUND ANIMATION */
@keyframes fireBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* HEAT WAVE WOBBLE */
@keyframes fireWobble {
  0%   { transform: scale(1) rotate(0deg); }
  100% { transform: scale(1.03) rotate(0.7deg); }
}

/* EXTRA GLOW PULSE */
#my-brand::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 14px;
  z-index: -1;
  box-shadow: 0 0 40px rgba(255, 80, 0, 0.8);
  animation: firePulse 1.6s infinite alternate ease-in-out;
}

@keyframes firePulse {
  0% { box-shadow: 0 0 20px rgba(255, 70, 0, 0.6); }
  100% { box-shadow: 0 0 40px rgba(255, 120, 0, 0.9); }
}
pointer-events: auto;


</style>
</head>

<body>

<!-- INTRO -->
<div id="intro">
  <div id="flash"></div>
  <div id="title">ARS MATHICA</div>
</div>

<!-- MAIN IFRAME -->
<iframe src="https://fractal-explorer-copy-9f89735d.base44.app/"></iframe>

<script>
/* Simple reliable JS intro */

const intro = document.getElementById("intro");
const flash = document.getElementById("flash");
const title = document.getElementById("title");

/* Bullet data */
const bullets = [
  { top: "40vh", delay: 50,  dy: -20 },
  { top: "46vh", delay: 260, dy: -8  },
  { top: "52vh", delay: 420, dy: 10  },
  { top: "58vh", delay: 580, dy: 20  },
];

function fireBullet(b){
  const el = document.createElement("div");
  el.className = "bullet";
  el.style.top = b.top;
  el.style.setProperty("--dy", b.dy + "px");
  intro.appendChild(el);

  setTimeout(()=> el.classList.add("shoot"), b.delay);
  setTimeout(()=> el.remove(), 1500);
}

window.addEventListener("load", () => {
  setTimeout(()=>{
    bullets.forEach(b=>fireBullet(b));

    setTimeout(()=>flash.classList.add("active"), 700);
    setTimeout(()=>title.classList.add("revealed"), 1200);
    setTimeout(()=>flash.classList.remove("active"), 2000);
  }, 200);
});
</script>

</body>
</html>
